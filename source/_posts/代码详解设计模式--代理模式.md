---
title: 代理模式
categories: 
  - 设计模式
tags:
  - Java
  - 设计模式
date: 2019-01-04 14:21:36
---

> <kbd>代理模式</kbd>是为了向其他对象提供一种控制本对象访问的途径。

<!-- more -->

- 优点：
1. 职责清晰。 
2. 高扩展性。 
3. 智能化。
- 缺点：
1. 由于增加了代理对象，可能会造成请求的处理速度变慢。 
2. 实现代理模式需要额外的工作。
![UML](https://raw.githubusercontent.com/chung567115/chung567115.github.io/hexo-blog/blog-img/代理模式.png)
```java
public interface Image {
   void display();
}

public class RealImage implements Image {
   private String fileName;
 
   public RealImage(String fileName){
      this.fileName = fileName;
      loadFromDisk(fileName);
   }
 
   @Override
   public void display() {
      System.out.println("展示图片：" + fileName);
   }
 
   private void loadFromDisk(String fileName){
      System.out.println("加载图片：" + fileName);
   }
}
//代理
public class ProxyImage implements Image{
   private RealImage realImage;
   private String fileName;
 
   public ProxyImage(String fileName){
      this.fileName = fileName;
   }
 
   @Override
   public void display() {
      if(realImage == null){
         realImage = new RealImage(fileName);
      }
      realImage.display();
   }
}
//使用示例
public class Demo {
   public static void main(String[] args) {
      Image image = new ProxyImage("test.jpg");
 
      // 图像将从磁盘加载
      image.display();
   }
}
```
